<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styledash.css') }}">
</head>
<body >

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg sticky-top px-5 shadow-lg border-0" style="backdrop-filter: blur(10px); transition: background-color 0.3s ease, box-shadow 0.3s ease;">
  <!-- Left side (empty or could add a logo later) -->
  <div class="d-flex align-items-center" style="flex:1;">
    <span class="navbar-brand fw-bold fs-5" id="userName">Welcome, User</span>
  </div>


  <!-- Centered Brand -->
  <span class="navbar-brand mx-auto fs-1 fw-bold">
    Today in Tech
  </span>

  <!-- Right side -->
  <div class="d-flex flex-column align-items-end" style="flex:1;">
    <button class="btn btn-logout btn-sm rounded-pill fw-bold px-3 py-1 text-dark mb-1" id="logoutBtn">Logout</button>
    <small class="text-info fw-semibold fs-6" id="lastUpdated">Last Updated: --</small>
  </div>
</nav>


  <!-- Main container -->
  <div class="container">
    <div id="articles-container" class="mt-4">
      <div class="table-responsive shadow-sm rounded">
        <table class="table table-dark table-hover table-bordered rounded-3 overflow-hidden shadow-lg" id="articlesTable">
          <thead class="table-dark">
            <tr>
              <th id="title-header">Title <span id="title-sort" class="fw-semibold cursor-pointer" >⇅</span></th>
              <th>URL</th>
              <th id="author-header">Author <span id="author-sort" class="fw-semibold cursor-pointer">⇅</span></th>
              <th id="published_at-header">Published At <span id="published_at-sort" class="fw-semibold cursor-pointer">⇅</span></th>
              <th id="source-header">Source <span id="source-sort" class="fw-semibold cursor-pointer">⇅</span></th>
            </tr>
          </thead>
          <tbody id="articlesBody"></tbody>
        </table>
      </div>


      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center" id="pagination"></ul>
      </nav>


    </div>
    <div class="mt-3 text-center">
      <button class="btn btn-primary rounded-pill fw-bold px-4 py-2 fs-5" id="scrapeBtn">Scrape Now</button>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="overlay d-none">
    <div class="overlay-box text-center">
      <div class="spinner-border text-light" role="status"></div>
      <p class="text-light mt-3" id="loadingMessage">Scraping in progress...</p>
      <button class="btn btn-light mt-2 d-none" id="dismissBtn">OK</button>
    </div>
  </div>

  <script type="module" src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>

</html>
